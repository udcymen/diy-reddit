<div *ngIf="user; else notSignIn">
    <form [formGroup]="newPostForm" (ngSubmit)="post()">
        <div class="text-center">
            <img src="assets/img/football-snoo-1567804843-0174207019155.png" width=60px alt="">
        </div>
        <h3 class="my-3 text-center" style="color: aliceblue;">New post</h3>
        <div class="form-row justify-content-center">
            <div class="form-group col-md-3">
                <label for="topic" style="color: aliceblue;">Topic</label>
                <select class="form-control col-lg-4" (change)="changeTopic($event)" formControlName="topic">
                    <option *ngFor="let topic of topics" [ngValue]="topic">{{topic}}</option>
                </select>
                <label for="title" style="color: aliceblue;" class="mt-4">Title</label>
                <div class="mx-auto mb-3">
                    <input type="title" formControlName="title" class="form-control" required>
                    <div *ngIf="newPostForm.get('title').touched">
                        <mat-error *ngIf="newPostForm.get('title').invalid">
                            Please enter title
                        </mat-error>
                    </div>
                </div>
                <label for="content" style="color: aliceblue;">Content</label>
                <div class="mx-auto mb-3">
                    <textarea type="content" size="2" rows="5" class="form-control" formControlName="content"
                        required></textarea>
                    <div *ngIf="newPostForm.get('content').touched">
                        <mat-error *ngIf="newPostForm.get('content').invalid">
                            Please enter content
                        </mat-error>
                    </div>
                </div>
            </div>
        </div>
        <div class="text-center ">
            <button type="submit" class="btn btn-primary" [disabled]="!newPostForm.valid">Submit</button>
            <button type="submit" class="mx-2 btn btn-secondary" routerLink='/home'>Cancel</button>
        </div>
    </form>
</div>

<ng-template #notSignIn>
    <mat-error>
        Please Log in before creating a new post
    </mat-error>
</ng-template>